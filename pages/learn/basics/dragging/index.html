{% extends "learn.html" %}
{% block title %}Framer - Dragging{% endblock %}
{% block currentpage %}class="subpage learn"{% endblock currentpage %}
{% block islearn %}active{% endblock %}
{% block basics %}active{% endblock %}
{% block basics2 %}-active{% endblock %}

{% block sidebar %}
<div class="sidebar">
    <ul>    
        <a href="/learn/basics"><li>Layers <div class="small">Hierarchy and Properties</div></li></a>
        <a href="/learn/basics/animation"><li>Animation <div class="small">Curves and Timing</div></li></a>
        <a href="/learn/basics/states"><li>States <div class="small">Sets of properties</div></li></a>
        <a href="/learn/basics/events"><li>Events <div class="small">Layer interactions</div></li></a>
        <a href="/learn/basics/dragging"><li class="active">Dragging <div class="small">Draggable layers</div></li></a>
        <a href="/learn/basics/scrolling"><li>Scrolling <div class="small">Scrollable layers</div></li></a>
        <a href="/learn/basics/pages"><li>Pages <div class="small">Swipe pages</div></li></a>

    </ul>
</div> <!--sidebar-->
{% endblock sidebar %}

{% block body %}
{% filter pygmentify %}
{% filter markdown %}

### Dragging
Draggable layers in Framer include physics and many customisable properties that open up new creative possibilities. By accounting for things like the speed and the direction, you can take greater control over dragging interactions. 

---

Let’s start by creating a draggable layer. You can simply `draggable.enabled` to `true`. Now, you can pick up your layer, place it elsewhere, and even toss it around. 

To only allow for dragging in one direction, set `draggable.horizontal` or `draggable.vertical` to `false`. Both are enabled by default.

You can also specify the dragging speed, with speedX and speedY.  This can provide you with accelerated or reduced dragging. 


<div class="with-full-illustration dragging">
<figure><img class="code-illustration-dragging" src="/static/images/learn/dragging.gif" srcset="/static/images/learn/dragging@2x.gif 2x"></figure>
<pre lang="coffeescript">
# Make the layer draggable 
layerA.draggable.enabled = true

# Prevent vertical dragging
layerA.draggable.horizontal = true
layerA.draggable.vertical = false

# Alternative way by setting the speed
layerA.draggable.speedX = 1
layerA.draggable.speedY = 0
</pre>
</div>

##### Constraints

In most cases, you’ll want to limit the range a layer can be dragged within. For example, think of the pull-to-refresh gesture, in which you can only drag a certain distance. In Framer, this can be achieved by defining dragging constraints.

Constraints have `x, y, width and height` properties. Think of it as another layer, that contains your draggable layer.

<div class="with-full-illustration dragging">
<figure><img class="code-illustration-dragging" src="/static/images/learn/dragging-constraints.gif" srcset="/static/images/learn/dragging-constraints@2x.gif 2x"></figure>
<pre lang="coffeescript">
# Make the layer draggable 
layerA.draggable.enabled = true

# Set the constraints frame
layerA.draggable.constraints = {
	x: 0
	y: 0
	width: 160
	height: 80
}

</pre>
</div>

##### Overdrag, Bounce and Momentum
It’s likely you’re already familiar with these terms, even if you don’t know them by name. Let’s have a look.

A draggable layer can be dragged beyond its constraints, although it will snap back. This is called overdrag. Think of Safari on iOS, where you can drag websites beyond the top and bottom of the pages.

You can disable this behaviour by setting overdrag to false.

<pre lang="coffeescript">

# Disable overdrag
layerA.draggable.overdrag = false
</pre>

When a layer is moving in a direction after DragEnd, it can also bounce beyond its constraints. This is called `bounce`. It’s sort of like a rubber-band effect. You can disable this behaviour by setting bounce to false.

<pre lang="coffeescript">
# Disable bounce
layerA.draggable.bounce = false
</pre>

Finally, setting `momentum` to false disables all default physics of your draggable layers, and prevents all drag animations. You can still move your layer, but you can’t toss it around anymore.

<pre lang="coffeescript">
# Disable momentum
layerA.draggable.momentum = false
</pre>

##### Example
The momentum and bounce properties can also be customised. To summarise what you’ve learned so far, have a look at this example of a [custom draggable layer with constraints](http://share.framerjs.com/drt8z0btracb/).


---

##### Events

The three fundamental dragging events that you can listen to are: DragStart, DragMove and DragEnd.

<div class="with-illustration square">
<figure><img class="code-illustration no-border" src="/static/images/learn/dragging-events.gif" srcset="/static/images/learn/dragging-events@2x.gif 2x" draggable="false"></figure>
<pre lang="coffeescript">
# Start dragging
layerA.on Events.DragStart, ->
    this.animate 
        properties: {scale: 1.1}

# When moving the draggable layer
layerA.on Events.DragMove, (event) -> 
    ...
    
# After dragging
layerA.on Events.DragEnd, -> 
    this.animate 
        properties: {scale: 1}
</pre>
</div>

The `Move` event is fired whenever the draggable layer is moving. Unlike the DragMove event, this includes the momentum and bounce animations.

There are two specific events that occur when momentum and bounce are enabled: DragAnimationDidStart and DragAnimationDidEnd. They occur after DragEnd, while the layer is animating.

<div class="with-illustration square">
<figure><img class="code-illustration no-border" src="/static/images/learn/dragging-didstart.gif" srcset="/static/images/learn/dragging-didstart@2x.gif 2x" draggable="false"></figure>
<pre lang="coffeescript">
# After DragEnd, the DragAnimation starts.
layerA.on Events.DragAnimationDidStart, ->
    this.animate 
        properties: {scale: 0.8}

# Whenever the layer is moving. 
layerA.on Events.Move, ->
	...

# The animation is defined by the bounce.
layerA.on Events.DragAnimationDidEnd, -> 
    this.animate 
        properties: scale: 1}
</pre>
</div>

Both the ScrollComponent and the PageComponent are built with Draggable Layers, meaning you can use all draggable properties and methods as well.

<section class="summary">
<h5>Summary</h5>
<ul>
    <li>Setting draggable.enabled to true creates a draggable layer </li>
    <li>You can restrict the dragging direction of a layer </li>
    <li>You can limit the dragging range within with constraints </li>
    <li>By default, a draggable layer has overdrag, momentum and bounce. </li>
    <li>The 3 basic dragging events are: DragStart, DragMove and DragEnd </li>
</ul>
</section>

<hr>

<section class="subpage-nav">
    <a class="previous" href="/learn/basics/events">
        <figure class="icon-learn-previous"></figure>
        <h6>Events</h6> 
    </a> <!--next-->
    <a class="next" href="/learn/basics/scrolling">
        <h6>Scrolling</h6> 
        <figure class="icon-learn-next-active"></figure>
    </a> <!--next-->
</section>
{% endfilter %}	
{% endfilter %}
{% endblock body %}	